{"ast":null,"code":"import { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/api/dataload.service\";\nimport * as i2 from \"../../services/backend/calc-time.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ClockTimeComponent_option_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r3.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r3.label);\n  }\n}\nfunction ClockTimeComponent_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const client_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", client_r4.Name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", client_r4.Name, \" - \", client_r4.Description, \"\");\n  }\n}\nfunction ClockTimeComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const task_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", task_r5.Name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", task_r5.Name, \" - \", task_r5.Description, \"\");\n  }\n}\nexport class ClockTimeComponent {\n  constructor(dls, calcTime) {\n    this.dls = dls;\n    this.calcTime = calcTime;\n    this.date = '';\n    this.billableOptions = [{\n      label: 'Yes',\n      value: true\n    }, {\n      label: 'No',\n      value: false\n    }];\n    this.billable = true;\n    this.project = '';\n    this.clients = [];\n    this.selectedClient = 'None';\n    this.tasks = [];\n    this.selectedTask = 'None';\n    this.startTime = '';\n    this.endTime = '';\n    this.spentTime = '';\n    this.comment = '';\n    this.message = '';\n  }\n  ngOnInit() {\n    this.date = new Date().toISOString().split('T')[0];\n    this.dls.loadData().pipe(catchError(error => {\n      console.error(error);\n      this.message = 'Failed to load data: ' + error.status;\n      return throwError(error);\n    })).subscribe(response => {\n      // clients\n      console.log(this.clients);\n      this.clients = response.clients;\n      if (this.clients.length > 0) {\n        this.selectedClient = this.clients[0].Name;\n      }\n      this.addConcatenatedOption();\n      // tasks\n      this.tasks = response.tasks;\n      if (this.tasks.length > 0) {\n        this.selectedTask = this.tasks[0].Name;\n      }\n      this.addConcatenatedOptionForTasks();\n    });\n  }\n  addConcatenatedOption() {\n    const concatenatedClient = this.clients.map(client => `${client.Name} - ${client.Description}`).join(', ');\n    this.clients.unshift({\n      Name: 'All Clients',\n      Description: concatenatedClient\n    });\n  }\n  addConcatenatedOptionForTasks() {\n    const concatenatedTask = this.tasks.map(task => `${task.Name} - ${task.Description}`).join(', ');\n    this.tasks.unshift({\n      Name: 'All Tasks',\n      Description: concatenatedTask\n    });\n  }\n  submitClockData() {}\n  isFormValid() {\n    return true;\n  }\n  resetForm() {\n    this.billable = true;\n    this.project = '';\n    this.startTime = '';\n    this.endTime = '';\n    this.spentTime = '';\n    this.comment = '';\n  }\n  calculateSpentTime() {\n    this.spentTime = this.calcTime.calculateSpentTime(this.startTime, this.endTime, this.spentTime);\n  }\n  handleCommentChange(event) {\n    this.comment = event.target.value;\n  }\n  handleTaskChange(event) {\n    this.selectedTask = event.target.value;\n  }\n  handleClientChange(event) {\n    this.selectedClient = event.target.value;\n  }\n  handleProjectChange(event) {\n    this.project = event.target.value;\n  }\n  handleDateChange(event) {\n    this.date = event.target.value;\n  }\n}\nClockTimeComponent.ɵfac = function ClockTimeComponent_Factory(t) {\n  return new (t || ClockTimeComponent)(i0.ɵɵdirectiveInject(i1.DataloadService), i0.ɵɵdirectiveInject(i2.CalcTimeService));\n};\nClockTimeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClockTimeComponent,\n  selectors: [[\"app-clock-time\"]],\n  decls: 45,\n  vars: 14,\n  consts: [[3, \"submit\"], [1, \"form-group\"], [\"type\", \"date\", \"name\", \"t_date\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"form-field\"], [\"name\", \"t_billable\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"name\", \"t_project\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"name\", \"client\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"name\", \"task\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"text\", \"name\", \"t_comment\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"type\", \"time\", \"name\", \"t_start\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"time\", \"name\", \"t_end\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"submit-button\", 3, \"disabled\"], [3, \"value\"]],\n  template: function ClockTimeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\");\n      i0.ɵɵtext(1, \"Clock Task\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 0);\n      i0.ɵɵlistener(\"submit\", function ClockTimeComponent_Template_form_submit_2_listener() {\n        return ctx.submitClockData();\n      });\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"label\");\n      i0.ɵɵtext(5, \"Date:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_6_listener($event) {\n        return ctx.date = $event;\n      })(\"change\", function ClockTimeComponent_Template_input_change_6_listener($event) {\n        return ctx.handleDateChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\");\n      i0.ɵɵtext(9, \"Billable:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"select\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_select_ngModelChange_10_listener($event) {\n        return ctx.billable = $event;\n      });\n      i0.ɵɵtemplate(11, ClockTimeComponent_option_11_Template, 2, 2, \"option\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 1)(13, \"label\");\n      i0.ɵɵtext(14, \"Project:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.project = $event;\n      })(\"change\", function ClockTimeComponent_Template_input_change_15_listener($event) {\n        return ctx.handleProjectChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 1)(17, \"label\");\n      i0.ɵɵtext(18, \"Client:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"select\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_select_ngModelChange_19_listener($event) {\n        return ctx.selectedClient = $event;\n      })(\"change\", function ClockTimeComponent_Template_select_change_19_listener($event) {\n        return ctx.handleClientChange($event);\n      });\n      i0.ɵɵtemplate(20, ClockTimeComponent_option_20_Template, 2, 3, \"option\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(21, \"div\", 1)(22, \"label\");\n      i0.ɵɵtext(23, \"Task:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_select_ngModelChange_24_listener($event) {\n        return ctx.selectedTask = $event;\n      })(\"change\", function ClockTimeComponent_Template_select_change_24_listener($event) {\n        return ctx.handleTaskChange($event);\n      });\n      i0.ɵɵtemplate(25, ClockTimeComponent_option_25_Template, 2, 3, \"option\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"div\", 1)(27, \"label\");\n      i0.ɵɵtext(28, \"Comment:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_29_listener($event) {\n        return ctx.comment = $event;\n      })(\"change\", function ClockTimeComponent_Template_input_change_29_listener($event) {\n        return ctx.handleCommentChange($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 1)(31, \"label\");\n      i0.ɵɵtext(32, \"Start Time:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_33_listener($event) {\n        return ctx.startTime = $event;\n      })(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_33_listener() {\n        return ctx.calculateSpentTime();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(34, \"div\", 1)(35, \"label\");\n      i0.ɵɵtext(36, \"End Time:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_37_listener($event) {\n        return ctx.endTime = $event;\n      })(\"ngModelChange\", function ClockTimeComponent_Template_input_ngModelChange_37_listener() {\n        return ctx.calculateSpentTime();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"div\", 1)(39, \"label\");\n      i0.ɵɵtext(40, \"Spent Time:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"span\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function ClockTimeComponent_Template_span_ngModelChange_41_listener($event) {\n        return ctx.spentTime = $event;\n      });\n      i0.ɵɵtext(42);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(43, \"button\", 13);\n      i0.ɵɵtext(44, \"Submit\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngModel\", ctx.date);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.billable);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.billableOptions);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.project);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedClient);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.clients.slice(1));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedTask);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.tasks.slice(1));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.comment);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.startTime);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.endTime);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.spentTime);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.spentTime);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isFormValid());\n    }\n  },\n  dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"input[type=\\\"text\\\"][_ngcontent-%COMP%], input[type=\\\"time\\\"][_ngcontent-%COMP%], input[type=\\\"date\\\"][_ngcontent-%COMP%], select[_ngcontent-%COMP%] {\\r\\n  border-radius: 15px;\\r\\n  padding: 5px;\\r\\n  border: 1px solid #ccc;\\r\\n  outline: none;\\r\\n  transition: border-color 0.3s ease;\\r\\n  width: 100%;\\r\\n  box-sizing: border-box;\\r\\n  margin: 5px auto;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\ninput[type=\\\"text\\\"][_ngcontent-%COMP%]:focus, input[type=\\\"time\\\"][_ngcontent-%COMP%]:focus, input[type=\\\"date\\\"][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{\\r\\n  border-color: #00CC00;\\r\\n}\\r\\n\\r\\n.form-field[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.form-field[_ngcontent-%COMP%]:last-child {\\r\\n  margin-bottom: 0;\\r\\n}\\r\\n\\r\\n.submit-button[_ngcontent-%COMP%]:disabled {\\r\\n  background-color: #ccc;\\r\\n  cursor: not-allowed;\\r\\n}\\r\\n\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  width: 100%;\\r\\n  text-align: center;\\r\\n  margin-bottom: 5px;\\r\\n}\\r\\n\\r\\nspan[_ngcontent-%COMP%] {\\r\\n  display: block;\\r\\n  width: 100%;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.submit-button[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  border-radius: 25px;\\r\\n  padding: 10px;\\r\\n  border: none;\\r\\n  outline: none;\\r\\n  background-color: #4CAF50;\\r\\n  color: white;\\r\\n  cursor: pointer;\\r\\n  margin: 10px auto;\\r\\n  transition: background-color 0.3s ease;\\r\\n}\\r\\n\\r\\n.submit-button[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #45a049;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jbG9jay10aW1lL2Nsb2NrLXRpbWUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUlFLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixrQ0FBa0M7RUFDbEMsV0FBVztFQUNYLHNCQUFzQjtFQUN0QixnQkFBZ0I7RUFDaEIsa0JBQWtCO0FBQ3BCOztBQUVBOzs7O0VBSUUscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCxXQUFXO0VBQ1gsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtFQUNuQixhQUFhO0VBQ2IsWUFBWTtFQUNaLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCIiwic291cmNlc0NvbnRlbnQiOlsiaW5wdXRbdHlwZT1cInRleHRcIl0sXHJcbmlucHV0W3R5cGU9XCJ0aW1lXCJdLFxyXG5pbnB1dFt0eXBlPVwiZGF0ZVwiXSxcclxuc2VsZWN0IHtcclxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xyXG4gIHBhZGRpbmc6IDVweDtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xyXG4gIG91dGxpbmU6IG5vbmU7XHJcbiAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuM3MgZWFzZTtcclxuICB3aWR0aDogMTAwJTtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIG1hcmdpbjogNXB4IGF1dG87XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG5pbnB1dFt0eXBlPVwidGV4dFwiXTpmb2N1cyxcclxuaW5wdXRbdHlwZT1cInRpbWVcIl06Zm9jdXMsXHJcbmlucHV0W3R5cGU9XCJkYXRlXCJdOmZvY3VzLFxyXG5zZWxlY3Q6Zm9jdXN7XHJcbiAgYm9yZGVyLWNvbG9yOiAjMDBDQzAwO1xyXG59XHJcblxyXG4uZm9ybS1maWVsZCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmZvcm0tZmllbGQ6bGFzdC1jaGlsZCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMDtcclxufVxyXG5cclxuLnN1Ym1pdC1idXR0b246ZGlzYWJsZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2M7XHJcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcclxufVxyXG5cclxubGFiZWwge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbn1cclxuXHJcbnNwYW4ge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnN1Ym1pdC1idXR0b24ge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGJvcmRlci1yYWRpdXM6IDI1cHg7XHJcbiAgcGFkZGluZzogMTBweDtcclxuICBib3JkZXI6IG5vbmU7XHJcbiAgb3V0bGluZTogbm9uZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNENBRjUwO1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgbWFyZ2luOiAxMHB4IGF1dG87XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbi5zdWJtaXQtYnV0dG9uOmhvdmVyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDVhMDQ5O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["catchError","throwError","i0","ClockTimeComponent","constructor","dls","calcTime","label","value","ngOnInit","date","Date","toISOString","split","loadData","pipe","error","console","message","status","subscribe","response","log","clients","length","selectedClient","Name","addConcatenatedOption","tasks","selectedTask","addConcatenatedOptionForTasks","concatenatedClient","map","client","Description","join","unshift","concatenatedTask","task","submitClockData","isFormValid","resetForm","billable","project","startTime","endTime","spentTime","comment","calculateSpentTime","handleCommentChange","event","target","handleTaskChange","handleClientChange","handleProjectChange","handleDateChange","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Sahur Maharaj\\OneDrive - Northern Data (Pty) Ltd\\Sahur_Maharaj\\Sahur_Maharaj\\Projects\\Timesheet-Project-V2\\Frontend\\chronosync\\src\\app\\components\\clock-time\\clock-time.component.ts","C:\\Users\\Sahur Maharaj\\OneDrive - Northern Data (Pty) Ltd\\Sahur_Maharaj\\Sahur_Maharaj\\Projects\\Timesheet-Project-V2\\Frontend\\chronosync\\src\\app\\components\\clock-time\\clock-time.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport {DataloadService} from \"../../services/api/dataload.service\";\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport {CalcTimeService} from \"../../services/backend/calc-time.service\";\n\n@Component({\n  selector: 'app-clock-time',\n  templateUrl: './clock-time.component.html',\n  styleUrls: ['./clock-time.component.css']\n})\nexport class ClockTimeComponent {\n\n  date: string = '';\n  billableOptions = [{ label: 'Yes', value: true },{ label: 'No', value: false }];\n  billable: boolean = true;\n  project: string = '';\n  clients: any[] = [];\n  selectedClient: string = 'None';\n  tasks: any[] = [];\n  selectedTask: string = 'None';\n  startTime: string = '';\n  endTime: string = '';\n  spentTime: string = '';\n  comment: string = '';\n  message:string = '';\n\n  constructor(private dls:DataloadService, private calcTime:CalcTimeService) { }\n\n  ngOnInit(){\n    this.date = new Date().toISOString().split('T')[0];\n    this.dls.loadData().pipe(\n        catchError((error: any) => {\n          console.error(error);\n          this.message = 'Failed to load data: ' + error.status;\n          return throwError(error);\n        })\n      ).subscribe((response) =>{\n        // clients\n      console.log(this.clients);\n        this.clients = response.clients;\n        if (this.clients.length > 0) {\n          this.selectedClient = this.clients[0].Name;\n        }\n        this.addConcatenatedOption();\n        // tasks\n        this.tasks = response.tasks;\n        if (this.tasks.length > 0) {\n          this.selectedTask = this.tasks[0].Name;\n        }\n        this.addConcatenatedOptionForTasks();\n\n    });\n\n  }\n\n  addConcatenatedOption() {\n    const concatenatedClient = this.clients\n      .map((client) => `${client.Name} - ${client.Description}`)\n      .join(', ');\n\n    this.clients.unshift({ Name: 'All Clients', Description: concatenatedClient });\n  }\n\n  addConcatenatedOptionForTasks() {\n    const concatenatedTask = this.tasks\n      .map((task) => `${task.Name} - ${task.Description}`)\n      .join(', ');\n\n    this.tasks.unshift({ Name: 'All Tasks', Description: concatenatedTask });\n  }\n\n  submitClockData(){\n  }\n  isFormValid():boolean{return true}\n\n  resetForm() {\n    this.billable = true;\n    this.project = '';\n    this.startTime = '';\n    this.endTime = '';\n    this.spentTime = '';\n    this.comment = '';\n  }\n  calculateSpentTime(){\n    this.spentTime = this.calcTime.calculateSpentTime(this.startTime, this.endTime, this.spentTime);\n  }\n  handleCommentChange(event:any){this.comment = event.target.value;}\n\n  handleTaskChange(event:any){this.selectedTask = event.target.value;}\n\n  handleClientChange(event:any){this.selectedClient = event.target.value;}\n\n  handleProjectChange(event:any){this.project = event.target.value;}\n\n  handleDateChange(event:any){this.date = event.target.value;}\n\n}\n","<h1>Clock Task</h1>\n<form (submit)=\"submitClockData()\">\n  <div class=\"form-group\">\n    <label>Date:</label>\n    <input type=\"date\" name=\"t_date\" [(ngModel)]=\"date\" (change)=\"handleDateChange($event)\">\n  </div>\n\n  <div class=\"form-field\">\n    <label>Billable:</label>\n    <select name=\"t_billable\" [(ngModel)]=\"billable\">\n      <option *ngFor=\"let option of billableOptions\" [value]=\"option.value\">{{ option.label }}</option>\n    </select>\n  </div>\n\n  <div class=\"form-group\">\n    <label>Project:</label>\n    <input type=\"text\" name=\"t_project\" [(ngModel)]=\"project\" (change)=\"handleProjectChange($event)\">\n  </div>\n\n  <div class=\"form-group\">\n    <label>Client:</label>\n    <select name=\"client\" [(ngModel)]=\"selectedClient\" (change)=\"handleClientChange($event)\">\n      <option *ngFor=\"let client of clients.slice(1)\" [value]=\"client.Name\">{{ client.Name }} - {{ client.Description }}</option>\n    </select>\n  </div>\n\n  <div class=\"form-group\">\n    <label>Task:</label>\n    <select name=\"task\" [(ngModel)]=\"selectedTask\" (change)=\"handleTaskChange($event)\">\n      <option *ngFor=\"let task of tasks.slice(1)\" [value]=\"task.Name\">{{ task.Name }} - {{ task.Description }}</option>\n    </select>\n  </div>\n\n  <div class=\"form-group\">\n    <label>Comment:</label>\n    <input type=\"text\" name=\"t_comment\" [(ngModel)]=\"comment\" (change)=\"handleCommentChange($event)\">\n  </div>\n\n  <div class=\"form-group\">\n    <label>Start Time:</label>\n    <input type=\"time\" name=\"t_start\" [(ngModel)]=\"startTime\" (ngModelChange)=\"calculateSpentTime()\">\n  </div>\n\n  <div class=\"form-group\">\n    <label>End Time:</label>\n    <input type=\"time\" name=\"t_end\" [(ngModel)]=\"endTime\" (ngModelChange)=\"calculateSpentTime()\">\n  </div>\n\n  <div class=\"form-group\">\n    <label>Spent Time:</label>\n    <span [(ngModel)]=\"spentTime\">{{ spentTime }}</span>\n  </div>\n\n  <button type=\"submit\" class=\"submit-button\" [disabled]=\"!isFormValid()\">Submit</button>\n</form>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}